var UISVG = "<svg viewBox=\"0 0 100 70\" class=\"gl-bench\">\n\n<rect x=\"0\" y=\"0\" width=\"100\" height=\"70\" rx=\"26.5\" ry=\"26.5\" class=\"gl-box\"/>\n\n<text x=\"26.5\" y=\"22\" class=\"gl-text gl-cpu\">00%</text>\n<text x=\"26.5\" y=\"34\" class=\"gl-text\">CPU</text>\n<circle cx=\"26.5\" cy=\"26.5\" r=\"20\" class=\"gl-circle\"/>\n<path d=\"M21.0 37 a 15.9155 -15.9155 0 0 1 0 -31.831 a 15.9155 15.9155 0 0 1 0 31.831\"\n  class=\"gl-arc gl-cpu-arc\"/>\n\n<circle cx=\"73.5\" cy=\"26.5\" r=\"20\" class=\"gl-circle\"/>\n<text x=\"73.5\" y=\"22\" class=\"gl-text gl-gpu\">00%</text>\n<text x=\"73.5\" y=\"34\" class=\"gl-text\">GPU</text>\n<path d=\"M58.5 37 a 15.9155 -15.9155 0 0 1 0 -31.831 a 15.9155 15.9155 0 0 1 0 31.831\"\n  class=\"gl-arc gl-gpu-arc\"/>\n\n<text x=\"50\" y=\"59\" font-size=\".8em\" class=\"gl-text gl-fps\">00 FPS</text>\n<circle cx=\"18\" cy=\"58\" r=\"3\" style=\"opacity:0.55\"/>\n<circle cx=\"82\" cy=\"58\" r=\"3\" style=\"opacity:0.55\"/>\n\n</svg>";

var UICSS = ".gl-bench {\n  position: relative;\n  display: block;\n  margin: 5px;\n  width: 100px;\n  cursor: pointer;\n}\n\n.gl-box {\n  fill: hsla(120, 50%, 60%, 0.65);\n}\n\n.gl-text {\n  font-family: sans-serif;\n  font-weight: 700;\n  font-size: 0.7em;\n  text-anchor: middle;\n  dominant-baseline: middle;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  opacity: 0.7;\n}\n\n.gl-arc {\n  fill: none;  \n  stroke: black;\n  stroke-width: 2.6;\n  stroke-dasharray: 0, 100;\n  opacity: 0.5;  \n  transform: scale(1.25663);\n}\n\n.gl-circle {\n  fill: none;\n  stroke-width: 3.5;\n  stroke: black;\n  opacity: 0.4;\n}";

class GLBench {

  /**
   * @param { WebGLRenderingContext | WebGL2RenderingContext } gl 
   * @param { Object | undefined } settings
   */
  constructor(gl, settings = {}) {
    this.names = [];
    this.frameId = 0;

    this.cpuAccums = [];
    this.gpuAccums = [];
    this.activeAccums = [];

    this.cpuLogger = () => {};
    this.gpuLogger = () => {};
    this.fpsLogger = () => {};

    this.now = () => (performance && performance.now) ? performance.now() : Date.now();
    Object.assign(this, settings);

    // add gpu profilers
    if (gl instanceof WebGLRenderingContext || gl instanceof WebGL2RenderingContext) {
      const addProfiler = (fn, self) => function() {
        const begin = self.now();
        fn.apply(gl, arguments);
        gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array(4));
        const dt = self.now() - begin;
        self.activeAccums.forEach((active, i) => {
          if (active) {
            self.gpuAccums[i] += dt;
            self.cpuAccums[i] -= dt;
          }
        });
      };
      ['drawArrays', 'drawElements', 'drawArraysInstanced',
        'drawBuffers', 'drawElementsInstanced', 'drawRangeElements']
        .forEach(fn => { if (gl[fn]) gl[fn] = addProfiler(gl[fn], this); });
    }

    // init ui and attach loggers
    if (!this.withoutUI) {
      this.dom = document.getElementById('gl-bench-dom');
      if (!this.dom) {
        document.body.insertAdjacentHTML('afterbegin',
          '<div id="gl-bench-dom" style="position:absolute;left:0;top:0;z-index:1000"></div>');
        this.dom = document.getElementById('gl-bench-dom');
        let styleNode = document.createElement('style');
        styleNode.innerHTML = UICSS;
        this.dom.appendChild(styleNode);
      }
      this.dom.addEventListener('click', () => { this.showMS = !this.showMS; });

      function addLogger(elm, elmChanger, pct, pctChanger, extraLogger, dom, names) {
        this.elm = dom.getElementsByClassName(elm);
        this.pct = dom.getElementsByClassName(pct);
        this.names = names;
        return (x, y, i) => {
          this.elm[i].innerHTML = elmChanger(x, y);
          this.pct[i].style[pct == 'gl-box' ? 'fill' : 'strokeDasharray'] = pctChanger(x);
          extraLogger(x, y, this.names[i]);
        }
      }
      this.fpsLogger = addLogger.bind({}) (
        'gl-fps', (fps, ms) => !this.showMS ? fps.toFixed(0) + ' FPS' : ms.toFixed(2) + ' MS',
        'gl-box', fps => 'hsla(' + Math.min(120, Math.max(0, 2.182*(fps-5))) + ',50%,60%,0.65)',
        this.fpsLogger, this.dom, this.names
      );
      this.cpuLogger = addLogger.bind({}) (
        'gl-cpu', (cpu, ms) => !this.showMS ? cpu.toFixed(0) + '%' : ms.toFixed(2),
        'gl-cpu-arc', cpu => cpu.toFixed(0) + ', 100',
        this.cpuLogger, this.dom, this.names
      );
      this.gpuLogger = addLogger.bind({}) (
        'gl-gpu', (gpu, ms) => !this.showMS ? gpu.toFixed(0) + '%' : ms.toFixed(2),
        'gl-gpu-arc', gpu => gpu.toFixed(0) + ', 100',
        this.gpuLogger, this.dom, this.names
      );
    }
  }

  /**
   * Add UI in dom
   * @param { string } name 
   */
  addUI(name) {
    this.names.push(name);
    if (this.dom) this.dom.insertAdjacentHTML('beforeend', UISVG);
  }

  /**
   * Begin named measure
   * @param { string | undefined } name
   */
  begin(name) {
    let nameId = this.names.indexOf(name);
    if (this.names.indexOf(name) == -1) {
      nameId = this.names.length;
      this.addUI(name);
    }

    if (nameId === 0) this.frameId++;
    if (this.cpuAccums.length <= nameId) {
      this.cpuAccums.push(0);
      this.gpuAccums.push(0);
      this.activeAccums.push(false);
    }
    
    this.update();
    this.activeAccums[nameId] = !this.activeAccums[nameId];
  }

  /**
   * End named measure
   * @param { string | undefined } name
   */
  end(name) {
    const nameId = this.names.indexOf(name);

    this.update();
    this.activeAccums[nameId] = !this.activeAccums[nameId];
  }

  /**
   * Accumulators updater
   */
  update() {
    const now = this.now();
    if (typeof this.zerotime == 'undefined') {
      this.zerotime = now;
    } else {
      const dt = now - this.prevNow;
      this.activeAccums.forEach((active, i) => {
        if (active) {
          this.cpuAccums[i] += dt;
        }
      });

      const totalAccum = now - this.zerotime;
      let seconds = totalAccum / 1e3;
      if (seconds >= 1) {
        const fps = this.frameId / seconds;
        const frametime = totalAccum / this.frameId;
        for (let i = 0; i < this.cpuAccums.length; i++) {
          this.cpuLogger(this.cpuAccums[i] / totalAccum * 100, this.cpuAccums[i] / this.frameId, i);
          this.gpuLogger(this.gpuAccums[i] / totalAccum * 100, this.gpuAccums[i] / this.frameId, i);
          this.fpsLogger(fps, frametime, i);
          this.cpuAccums[i] = 0;
          this.gpuAccums[i] = 0;
        }
        this.frameId = 0;
        this.zerotime = now;
      }
    }
    this.prevNow = this.now();
  }
}

export default GLBench;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2wtYmVuY2gubW9kdWxlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVJU1ZHIGZyb20gJy4vdWkuc3ZnJztcbmltcG9ydCBVSUNTUyBmcm9tICcuL3VpLmNzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdMQmVuY2gge1xuXG4gIC8qKlxuICAgKiBAcGFyYW0geyBXZWJHTFJlbmRlcmluZ0NvbnRleHQgfCBXZWJHTDJSZW5kZXJpbmdDb250ZXh0IH0gZ2wgXG4gICAqIEBwYXJhbSB7IE9iamVjdCB8IHVuZGVmaW5lZCB9IHNldHRpbmdzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihnbCwgc2V0dGluZ3MgPSB7fSkge1xuICAgIHRoaXMubmFtZXMgPSBbXTtcbiAgICB0aGlzLmZyYW1lSWQgPSAwO1xuXG4gICAgdGhpcy5jcHVBY2N1bXMgPSBbXTtcbiAgICB0aGlzLmdwdUFjY3VtcyA9IFtdO1xuICAgIHRoaXMuYWN0aXZlQWNjdW1zID0gW107XG5cbiAgICB0aGlzLmNwdUxvZ2dlciA9ICgpID0+IHt9O1xuICAgIHRoaXMuZ3B1TG9nZ2VyID0gKCkgPT4ge307XG4gICAgdGhpcy5mcHNMb2dnZXIgPSAoKSA9PiB7fTtcblxuICAgIHRoaXMubm93ID0gKCkgPT4gKHBlcmZvcm1hbmNlICYmIHBlcmZvcm1hbmNlLm5vdykgPyBwZXJmb3JtYW5jZS5ub3coKSA6IERhdGUubm93KCk7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBzZXR0aW5ncyk7XG5cbiAgICAvLyBhZGQgZ3B1IHByb2ZpbGVyc1xuICAgIGlmIChnbCBpbnN0YW5jZW9mIFdlYkdMUmVuZGVyaW5nQ29udGV4dCB8fCBnbCBpbnN0YW5jZW9mIFdlYkdMMlJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgIGNvbnN0IGFkZFByb2ZpbGVyID0gKGZuLCBzZWxmKSA9PiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgYmVnaW4gPSBzZWxmLm5vdygpO1xuICAgICAgICBmbi5hcHBseShnbCwgYXJndW1lbnRzKTtcbiAgICAgICAgZ2wucmVhZFBpeGVscygwLCAwLCAxLCAxLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBuZXcgVWludDhBcnJheSg0KSk7XG4gICAgICAgIGNvbnN0IGR0ID0gc2VsZi5ub3coKSAtIGJlZ2luO1xuICAgICAgICBzZWxmLmFjdGl2ZUFjY3Vtcy5mb3JFYWNoKChhY3RpdmUsIGkpID0+IHtcbiAgICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgICBzZWxmLmdwdUFjY3Vtc1tpXSArPSBkdDtcbiAgICAgICAgICAgIHNlbGYuY3B1QWNjdW1zW2ldIC09IGR0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgWydkcmF3QXJyYXlzJywgJ2RyYXdFbGVtZW50cycsICdkcmF3QXJyYXlzSW5zdGFuY2VkJyxcbiAgICAgICAgJ2RyYXdCdWZmZXJzJywgJ2RyYXdFbGVtZW50c0luc3RhbmNlZCcsICdkcmF3UmFuZ2VFbGVtZW50cyddXG4gICAgICAgIC5mb3JFYWNoKGZuID0+IHsgaWYgKGdsW2ZuXSkgZ2xbZm5dID0gYWRkUHJvZmlsZXIoZ2xbZm5dLCB0aGlzKSB9KTtcbiAgICB9XG5cbiAgICAvLyBpbml0IHVpIGFuZCBhdHRhY2ggbG9nZ2Vyc1xuICAgIGlmICghdGhpcy53aXRob3V0VUkpIHtcbiAgICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dsLWJlbmNoLWRvbScpO1xuICAgICAgaWYgKCF0aGlzLmRvbSkge1xuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsXG4gICAgICAgICAgJzxkaXYgaWQ9XCJnbC1iZW5jaC1kb21cIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt6LWluZGV4OjEwMDBcIj48L2Rpdj4nKTtcbiAgICAgICAgdGhpcy5kb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2wtYmVuY2gtZG9tJyk7XG4gICAgICAgIGxldCBzdHlsZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZU5vZGUuaW5uZXJIVE1MID0gVUlDU1M7XG4gICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKHN0eWxlTm9kZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmRvbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsgdGhpcy5zaG93TVMgPSAhdGhpcy5zaG93TVM7IH0pO1xuXG4gICAgICBmdW5jdGlvbiBhZGRMb2dnZXIoZWxtLCBlbG1DaGFuZ2VyLCBwY3QsIHBjdENoYW5nZXIsIGV4dHJhTG9nZ2VyLCBkb20sIG5hbWVzKSB7XG4gICAgICAgIHRoaXMuZWxtID0gZG9tLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZWxtKTtcbiAgICAgICAgdGhpcy5wY3QgPSBkb20uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShwY3QpO1xuICAgICAgICB0aGlzLm5hbWVzID0gbmFtZXM7XG4gICAgICAgIHJldHVybiAoeCwgeSwgaSkgPT4ge1xuICAgICAgICAgIHRoaXMuZWxtW2ldLmlubmVySFRNTCA9IGVsbUNoYW5nZXIoeCwgeSk7XG4gICAgICAgICAgdGhpcy5wY3RbaV0uc3R5bGVbcGN0ID09ICdnbC1ib3gnID8gJ2ZpbGwnIDogJ3N0cm9rZURhc2hhcnJheSddID0gcGN0Q2hhbmdlcih4KTtcbiAgICAgICAgICBleHRyYUxvZ2dlcih4LCB5LCB0aGlzLm5hbWVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5mcHNMb2dnZXIgPSBhZGRMb2dnZXIuYmluZCh7fSkgKFxuICAgICAgICAnZ2wtZnBzJywgKGZwcywgbXMpID0+ICF0aGlzLnNob3dNUyA/IGZwcy50b0ZpeGVkKDApICsgJyBGUFMnIDogbXMudG9GaXhlZCgyKSArICcgTVMnLFxuICAgICAgICAnZ2wtYm94JywgZnBzID0+ICdoc2xhKCcgKyBNYXRoLm1pbigxMjAsIE1hdGgubWF4KDAsIDIuMTgyKihmcHMtNSkpKSArICcsNTAlLDYwJSwwLjY1KScsXG4gICAgICAgIHRoaXMuZnBzTG9nZ2VyLCB0aGlzLmRvbSwgdGhpcy5uYW1lc1xuICAgICAgKTtcbiAgICAgIHRoaXMuY3B1TG9nZ2VyID0gYWRkTG9nZ2VyLmJpbmQoe30pIChcbiAgICAgICAgJ2dsLWNwdScsIChjcHUsIG1zKSA9PiAhdGhpcy5zaG93TVMgPyBjcHUudG9GaXhlZCgwKSArICclJyA6IG1zLnRvRml4ZWQoMiksXG4gICAgICAgICdnbC1jcHUtYXJjJywgY3B1ID0+IGNwdS50b0ZpeGVkKDApICsgJywgMTAwJyxcbiAgICAgICAgdGhpcy5jcHVMb2dnZXIsIHRoaXMuZG9tLCB0aGlzLm5hbWVzXG4gICAgICApO1xuICAgICAgdGhpcy5ncHVMb2dnZXIgPSBhZGRMb2dnZXIuYmluZCh7fSkgKFxuICAgICAgICAnZ2wtZ3B1JywgKGdwdSwgbXMpID0+ICF0aGlzLnNob3dNUyA/IGdwdS50b0ZpeGVkKDApICsgJyUnIDogbXMudG9GaXhlZCgyKSxcbiAgICAgICAgJ2dsLWdwdS1hcmMnLCBncHUgPT4gZ3B1LnRvRml4ZWQoMCkgKyAnLCAxMDAnLFxuICAgICAgICB0aGlzLmdwdUxvZ2dlciwgdGhpcy5kb20sIHRoaXMubmFtZXNcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBVSSBpbiBkb21cbiAgICogQHBhcmFtIHsgc3RyaW5nIH0gbmFtZSBcbiAgICovXG4gIGFkZFVJKG5hbWUpIHtcbiAgICB0aGlzLm5hbWVzLnB1c2gobmFtZSk7XG4gICAgaWYgKHRoaXMuZG9tKSB0aGlzLmRvbS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIFVJU1ZHKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCZWdpbiBuYW1lZCBtZWFzdXJlXG4gICAqIEBwYXJhbSB7IHN0cmluZyB8IHVuZGVmaW5lZCB9IG5hbWVcbiAgICovXG4gIGJlZ2luKG5hbWUpIHtcbiAgICBsZXQgbmFtZUlkID0gdGhpcy5uYW1lcy5pbmRleE9mKG5hbWUpO1xuICAgIGlmICh0aGlzLm5hbWVzLmluZGV4T2YobmFtZSkgPT0gLTEpIHtcbiAgICAgIG5hbWVJZCA9IHRoaXMubmFtZXMubGVuZ3RoO1xuICAgICAgdGhpcy5hZGRVSShuYW1lKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZUlkID09PSAwKSB0aGlzLmZyYW1lSWQrKztcbiAgICBpZiAodGhpcy5jcHVBY2N1bXMubGVuZ3RoIDw9IG5hbWVJZCkge1xuICAgICAgdGhpcy5jcHVBY2N1bXMucHVzaCgwKTtcbiAgICAgIHRoaXMuZ3B1QWNjdW1zLnB1c2goMCk7XG4gICAgICB0aGlzLmFjdGl2ZUFjY3Vtcy5wdXNoKGZhbHNlKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICB0aGlzLmFjdGl2ZUFjY3Vtc1tuYW1lSWRdID0gIXRoaXMuYWN0aXZlQWNjdW1zW25hbWVJZF07XG4gIH1cblxuICAvKipcbiAgICogRW5kIG5hbWVkIG1lYXN1cmVcbiAgICogQHBhcmFtIHsgc3RyaW5nIHwgdW5kZWZpbmVkIH0gbmFtZVxuICAgKi9cbiAgZW5kKG5hbWUpIHtcbiAgICBjb25zdCBuYW1lSWQgPSB0aGlzLm5hbWVzLmluZGV4T2YobmFtZSk7XG5cbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMuYWN0aXZlQWNjdW1zW25hbWVJZF0gPSAhdGhpcy5hY3RpdmVBY2N1bXNbbmFtZUlkXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBY2N1bXVsYXRvcnMgdXBkYXRlclxuICAgKi9cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IG5vdyA9IHRoaXMubm93KCk7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnplcm90aW1lID09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLnplcm90aW1lID0gbm93O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkdCA9IG5vdyAtIHRoaXMucHJldk5vdztcbiAgICAgIHRoaXMuYWN0aXZlQWNjdW1zLmZvckVhY2goKGFjdGl2ZSwgaSkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgdGhpcy5jcHVBY2N1bXNbaV0gKz0gZHQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB0b3RhbEFjY3VtID0gbm93IC0gdGhpcy56ZXJvdGltZTtcbiAgICAgIGxldCBzZWNvbmRzID0gdG90YWxBY2N1bSAvIDFlMztcbiAgICAgIGlmIChzZWNvbmRzID49IDEpIHtcbiAgICAgICAgY29uc3QgZnBzID0gdGhpcy5mcmFtZUlkIC8gc2Vjb25kcztcbiAgICAgICAgY29uc3QgZnJhbWV0aW1lID0gdG90YWxBY2N1bSAvIHRoaXMuZnJhbWVJZDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNwdUFjY3Vtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMuY3B1TG9nZ2VyKHRoaXMuY3B1QWNjdW1zW2ldIC8gdG90YWxBY2N1bSAqIDEwMCwgdGhpcy5jcHVBY2N1bXNbaV0gLyB0aGlzLmZyYW1lSWQsIGkpO1xuICAgICAgICAgIHRoaXMuZ3B1TG9nZ2VyKHRoaXMuZ3B1QWNjdW1zW2ldIC8gdG90YWxBY2N1bSAqIDEwMCwgdGhpcy5ncHVBY2N1bXNbaV0gLyB0aGlzLmZyYW1lSWQsIGkpO1xuICAgICAgICAgIHRoaXMuZnBzTG9nZ2VyKGZwcywgZnJhbWV0aW1lLCBpKTtcbiAgICAgICAgICB0aGlzLmNwdUFjY3Vtc1tpXSA9IDA7XG4gICAgICAgICAgdGhpcy5ncHVBY2N1bXNbaV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZnJhbWVJZCA9IDA7XG4gICAgICAgIHRoaXMuemVyb3RpbWUgPSBub3c7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucHJldk5vdyA9IHRoaXMubm93KCk7XG4gIH1cbn0iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUdlLE1BQU0sT0FBTyxDQUFDOzs7Ozs7RUFNM0IsV0FBVyxDQUFD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LENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO1VBQzFGLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxVQUFVLEdBQUcsR0FBRyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztVQUMxRixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7VUFDbEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7VUFDdEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDdkI7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztRQUNqQixJQUFJLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQztPQUNyQjtLQUNGO0lBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7R0FDM0I7Ozs7OyJ9
